# 常用模块
## math模块
### 舍入函数


```python
import math
```


```python
math.ceil(1.4)
```




    2




```python
math.floor(1.4)
```




    1




```python
round(1.4)
```




    1




```python
math.ceil(1.5)
```




    2




```python
math.floor(1.5)
```




    1




```python
math.ceil(1.6)
```




    2




```python
math.floor(1.6)
```




    1




```python
round(1.5)
```




    2




```python
round(1.6)
```




    2



### 幂和对数函数


```python
math.log(8,2)
```




    3.0




```python
math.pow(2,3)
```




    8.0




```python
math.log(8)
```




    2.0794415416798357




```python
math.sqrt(1.6)
```




    1.2649110640673518



### 三角函数


```python
math.degrees(0.5*math.pi)
```




    90.0




```python
math.radians(180/math.pi)
```




    1.0




```python
a=math.radians(45/math.pi)
```


```python
a
```




    0.25




```python
math.sin(a)
```




    0.24740395925452294




```python
math.asin(math.sin(a))
```




    0.25




```python
math.asin(0.2474)
```




    0.24999591371483254




```python
math.asin(0.24740395925452294)
```




    0.25




```python
math.cos(a)
```




    0.9689124217106447




```python
math.acos(0.9689124217106447)
```




    0.2500000000000002




```python
math.acos(math.cos(a))
```




    0.2500000000000002




```python
math.tan(a)
```




    0.25534192122103627




```python
math.atan(math.tan(a))
```




    0.25




```python
math.atan(0.25534192122103627)
```




    0.25



## random模块


```python
import random
print('0.0<=x<1.0 random')
for i in range(0,10):
    x=random.random()
    print(x)
print('0<x<5 random')
for i in range(0,10):
    x=random.randrange(5)
    print(x)
print('05<=x<10 random')
for i in range(0,10):
    x=random.randrange(5,10)
    print(x)
print('05<=x<=10 random')
for i in range(0,10):
    x=random.randint(5,10)
    print(x)
```

    0.0<=x<1.0 random
    0.3905863037934756
    0.8922407632329942
    0.21352047760461534
    0.5211523015401928
    0.30030870435664747
    0.9862984919490358
    0.21171993560160762
    0.6653280107488534
    0.32488043176197134
    0.3562099773397064
    0<x<5 random
    0
    0
    4
    0
    2
    1
    3
    3
    0
    4
    05<=x<10 random
    7
    8
    7
    6
    8
    5
    9
    8
    7
    7
    05<=x<=10 random
    5
    5
    8
    7
    7
    9
    9
    8
    7
    5
    

## datetime模块
### datetime、date和time类
#### datetime类


```python
import datetime
```


```python
dt=datetime.datetime(2018,2,29)
```


    ---------------------------------------------------------------------------

    ValueError                                Traceback (most recent call last)

    Input In [37], in <cell line: 1>()
    ----> 1 dt=datetime.datetime(2018,2,29)
    

    ValueError: day is out of range for month



```python
dt=datetime.datetime(2018,2,28)
```


```python
dt
```




    datetime.datetime(2018, 2, 28, 0, 0)




```python
dt=datetime.datetime(2018,2,28,23,60,59,10000)
```


    ---------------------------------------------------------------------------

    ValueError                                Traceback (most recent call last)

    Input In [40], in <cell line: 1>()
    ----> 1 dt=datetime.datetime(2018,2,28,23,60,59,10000)
    

    ValueError: minute must be in 0..59



```python
dt=datetime.datetime(2018,2,28,23,30,59,10000)
```


```python
dt
```




    datetime.datetime(2018, 2, 28, 23, 30, 59, 10000)




```python
datetime.datetime.today()
```




    datetime.datetime(2023, 3, 21, 18, 2, 6, 436821)




```python
datetime.datetime.now()
```




    datetime.datetime(2023, 3, 21, 18, 2, 32, 837270)




```python
datetime.datetime.utcnow()
```




    datetime.datetime(2023, 3, 21, 10, 2, 48, 100681)




```python
datetime.datetime.fromtimestamp(999999999.999)
```




    datetime.datetime(2001, 9, 9, 9, 46, 39, 999000)




```python
datetime.datetime.utcfromtimestamp(999999999.999)
```




    datetime.datetime(2001, 9, 9, 1, 46, 39, 999000)



#### date类


```python
d=datetime.date(2018,2,29)
```


    ---------------------------------------------------------------------------

    ValueError                                Traceback (most recent call last)

    Input In [48], in <cell line: 1>()
    ----> 1 d=datetime.date(2018,2,29)
    

    ValueError: day is out of range for month



```python
d=datetime.date(2018,2,28)
```


```python
d
```




    datetime.date(2018, 2, 28)




```python
datetime.date.today()
```




    datetime.date(2023, 3, 21)




```python
datetime.date.fromtimestamp(999999999.999)
```




    datetime.date(2001, 9, 9)



#### time类


```python
datetime.time(24,59,58,1999)
```


    ---------------------------------------------------------------------------

    ValueError                                Traceback (most recent call last)

    Input In [53], in <cell line: 1>()
    ----> 1 datetime.time(24,59,58,1999)
    

    ValueError: hour must be in 0..23



```python
datetime.time(23,59,58,1999)
```




    datetime.time(23, 59, 58, 1999)



### 日期时间计算


```python
datetime.date.today()
```




    datetime.date(2023, 3, 21)




```python
d=datetime.date.today()
```


```python
delta=datetime.timedelta(10)
```


```python
d+=delta
```


```python
d
```




    datetime.date(2023, 3, 31)




```python
d=datetime.date(2018,1,1)
```


```python
delta=datetime.timedelta(weeks=5)
```


```python
d-=delta
```


```python
d
```




    datetime.date(2017, 11, 27)



### 日期时间格式化和解析


```python
d=datetime.datetime.today()
```


```python
d.strftime('%Y-%m-%d %H:%M:%S')
```




    '2023-03-21 18:10:33'




```python
d.strftime('%Y-%m-%d')
```




    '2023-03-21'




```python
str_date='2018-02-29 10:40:26'
```


```python
date=datetime.datetime.strptime(in_date,'%Y-%m-%d %H:%M:%S')
```


    ---------------------------------------------------------------------------

    NameError                                 Traceback (most recent call last)

    Input In [69], in <cell line: 1>()
    ----> 1 date=datetime.datetime.strptime(in_date,'%Y-%m-%d %H:%M:%S')
    

    NameError: name 'in_date' is not defined



```python
str_date='2018-02-28 10:40:26'
```


```python
date=datetime.datetime.strptime(str_date,'%Y-%m-%d %H:%M:%S')
```


```python
date
```




    datetime.datetime(2018, 2, 28, 10, 40, 26)




```python
 date=datetime.datetime.strptime(str_date,'%Y-%m-%d')
```


    ---------------------------------------------------------------------------

    ValueError                                Traceback (most recent call last)

    Input In [74], in <cell line: 1>()
    ----> 1 date=datetime.datetime.strptime(str_date,'%Y-%m-%d')
    

    File E:\anaconda\lib\_strptime.py:568, in _strptime_datetime(cls, data_string, format)
        565 def _strptime_datetime(cls, data_string, format="%a %b %d %H:%M:%S %Y"):
        566     """Return a class cls instance based on the input string and the
        567     format string."""
    --> 568     tt, fraction, gmtoff_fraction = _strptime(data_string, format)
        569     tzname, gmtoff = tt[-2:]
        570     args = tt[:6] + (fraction,)
    

    File E:\anaconda\lib\_strptime.py:352, in _strptime(data_string, format)
        349     raise ValueError("time data %r does not match format %r" %
        350                      (data_string, format))
        351 if len(data_string) != found.end():
    --> 352     raise ValueError("unconverted data remains: %s" %
        353                       data_string[found.end():])
        355 iso_year = year = None
        356 month = day = 1
    

    ValueError: unconverted data remains:  10:40:26


### 时区


```python
from datetime import datetime,timezone,timedelta
```


```python
utc_dt=datetime(2008,8,19,23,59,59,tzinfo=timezone.utc)
```


```python
utc_dt
```




    datetime.datetime(2008, 8, 19, 23, 59, 59, tzinfo=datetime.timezone.utc)




```python
utc_dt.strftime('%Y-%m-%d %H:%M:%S')
```




    '2008-08-19 23:59:59'




```python
utc_dt.strftime('%Y-%m-%d %H:%M:%S %z')
```




    '2008-08-19 23:59:59 +0000'




```python
bj_tz=timezone(offset=timedelta(hours=8),name='Asia/Beijing')
```


```python
bj_tz
```




    datetime.timezone(datetime.timedelta(seconds=28800), 'Asia/Beijing')




```python
bj_dt=utc_dt.astimezone(bj_tz)
```


```python
bj_dt
```




    datetime.datetime(2008, 8, 20, 7, 59, 59, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800), 'Asia/Beijing'))




```python
bj_dt.strftime('%Y-%m-%d %H:%M:%S %Z')
```




    '2008-08-20 07:59:59 Asia/Beijing'




```python
bj_dt.strftime('%Y-%m-%d %H:%M:%S %z')
```




    '2008-08-20 07:59:59 +0800'




```python
bj_tz=timezone(timedelta(hours=8))
```


```python
bj_dt=utc_dt.astimezone(bj_tz)
```


```python
bj_dt.strftime('%Y-%m-%d %H:%M:%S %z')
```




    '2008-08-20 07:59:59 +0800'



## logging日志模块
### 日志级别


```python
import logging
logging.basicConfig(level=logging.ERROR)

logging.debug('this is debug')
logging.info('this is info')
logging.warning('this is warning')
logging.error('this is error')
logging.critical('this is critical')
```

    2023-03-21 20:15:10,230-MainThread-root-<cell line: 5>-INFO-this is info
    2023-03-21 20:15:10,246-MainThread-root-<cell line: 6>-WARNING-this is warning
    2023-03-21 20:15:10,247-MainThread-root-<cell line: 7>-ERROR-this is error
    2023-03-21 20:15:10,248-MainThread-root-<cell line: 8>-CRITICAL-this is critical
    


```python
import logging
logging.basicConfig(level=logging.DEBUG)
logger=logging.getLogger(__name__)

logger.debug('this is debug')
logger.info('this is info')
logger.warning('this is warning')
logger.error('this is error')
logger.critical('this is critical')
```

    2023-03-21 20:14:59,694-MainThread-__main__-<cell line: 6>-INFO-this is info
    2023-03-21 20:14:59,694-MainThread-__main__-<cell line: 7>-WARNING-this is warning
    2023-03-21 20:14:59,698-MainThread-__main__-<cell line: 8>-ERROR-this is error
    2023-03-21 20:14:59,700-MainThread-__main__-<cell line: 9>-CRITICAL-this is critical
    

### 日志信息格式化


```python
import logging
logging.basicConfig(level=logging.INFO,
                    format='%(asctime)s-%(threadName)s-'
                    '%(name)s-%(funcName)s-%(levelname)s-%(message)s')
logger=logging.getLogger(__name__)

logger.debug('this is debug')
logger.info('this is info')
logger.warning('this is warning')
logger.error('this is error')
logger.critical('this is critical')

def funlog():
    logger.info('enter funlog')
    
logger.info('use funlog')
funlog()
```

    2023-03-21 20:14:51,110-MainThread-__main__-<cell line: 8>-INFO-this is info
    2023-03-21 20:14:51,120-MainThread-__main__-<cell line: 9>-WARNING-this is warning
    2023-03-21 20:14:51,122-MainThread-__main__-<cell line: 10>-ERROR-this is error
    2023-03-21 20:14:51,123-MainThread-__main__-<cell line: 11>-CRITICAL-this is critical
    2023-03-21 20:14:51,124-MainThread-__main__-<cell line: 16>-INFO-use funlog
    2023-03-21 20:14:51,124-MainThread-__main__-funlog-INFO-enter funlog
    

### 日志重定位


```python
import logging
logging.basicConfig(level=logging.INFO,
                    format='%(asctime)s-%(threadName)s-'
                    '%(name)s-%(funcName)s-%(levelname)s-%(message)s')
logger=logging.getLogger(__name__)

logger.debug('this is debug')
logger.info('this is info')
logger.warning('this is warning')
logger.error('this is error')
logger.critical('this is critical')

def funlog():
    logger.info('enter funlog')
    
logger.info('use funlog')
funlog()
```

    2023-03-21 20:17:26,157-MainThread-__main__-<cell line: 8>-INFO-this is info
    2023-03-21 20:17:26,165-MainThread-__main__-<cell line: 9>-WARNING-this is warning
    2023-03-21 20:17:26,166-MainThread-__main__-<cell line: 10>-ERROR-this is error
    2023-03-21 20:17:26,167-MainThread-__main__-<cell line: 11>-CRITICAL-this is critical
    2023-03-21 20:17:26,169-MainThread-__main__-<cell line: 16>-INFO-use funlog
    2023-03-21 20:17:26,171-MainThread-__main__-funlog-INFO-enter funlog
    

### 使用配置文件


```python
import logging
import logging.config

logging.config.fileConfig("logger.conf")
logger=logging.getLogger('loggerl')

logger.debug('this is debug')
logger.info('this is info')
logger.warning('this is warning')
logger.error('this is error')
logger.critical('this is critical')

def funlog():
    logger.info('enter funlog')
logger.info('use funlog')
funlog()
```

    this is debug
    this is info
    this is warning
    this is error
    this is critical
    use funlog
    enter funlog
    


```python

```


```python

```
