# 面向对象编程
## 面向对象概述oop
## 面向对象三个基本特性
### 封装性
### 继承性
### 多态性
## 类和对象
### 定义类
```
class 类名[(父类)]:
    类体
```


```python
class Animal(object):
    
    pass

```

### 创建和使用对象


```python
animal=Animal()
```


```python
print(animal)
```

    <__main__.Animal object at 0x00000222D7FA4160>
    

### 实例变量


```python
class Animal(object):
    def __init__(self,age,sex,weight):
        self.age=age
        self.sex=sex
        self.weight=weight

animal=Animal(2,1,10.0)

print('age:{0}'.format(animal.age))
print('sex:{0}'.format('female' if animal.sex==0 else 'male'))
print('weight:{0}'.format(animal.weight))
```

    age:2
    sex:male
    weight:10.0
    

### 类变量


```python
class Account:
    interest_rate=0.0668
    
    def __init__(self,owner,amount):
        self.owner=owner
        self.amount=amount
        
account=Account('tony',1_800_000.0)
print('account:{0}'.format(account.owner))
print('amount:{0}'.format(account.amount))
print('interest_rate:{0}'.format(account.interest_rate))
```

    account:tony
    amount:1800000.0
    interest_rate:0.0668
    

### 构造方法


```python
class Animal(object):
    def __init__(self,age,sex=1,weight=0.0):
        self.age=age
        self.sex=sex
        self.weight=weight
        
a1=Animal(2,1,10.0)
a2=Animal(1,weight=5.0)
a3=Animal(1,sex=0)
print('age:{0}'.format(a1.age))
print('sex:{0}'.format('female' if a3.sex==0 else 'male'))
print('weight:{0}'.format(a2.weight))
```

    age:2
    sex:female
    weight:5.0
    

### 实例方法


```python
class Animal(object):
    def __init__(self,age,sex=1,weight=0.0):
        self.age=age
        self.sex=sex
        self.weight=weight
    def eat(self):
        self.weight+=0.05
        print('eat')
    def run(self):
        self.weight-=0.01
        print('run')
        
a1=Animal(2,0,10.0)
print(a1.weight)
a1.eat()
print(a1.weight)
a1.run()
print(a1.weight)
```

    10.0
    eat
    10.05
    run
    10.040000000000001
    

### 类方法


```python
class Account:
    interest_rate=0.0668
    
    def __init__(self,owner,amount):
        self.owner=owner
        self.amount=amount
        
    @classmethod
    def interest_by(cls,amt):
        return cls.interest_rate*amt
    
interest=Account.interest_by(12000.0)
print(interest)
```

    801.6
    

### 静态方法


```python
class Account:
    interest_rate=0.0668
    
    def __init__(self,owner,amount):
        self.owner=owner
        self.amount=amount
        
    @classmethod
    def interest_by(cls,amt):
        return cls.interest_rate*amt
    
    @staticmethod
    def interest_with(amt):
        return Account.interest_by(amt)
    
interest1=Account.interest_by(12000.0)
print(interest1)
interest2=Account.interest_with(12000.0)
print(interest2)
```

    801.6
    801.6
    

## 封装性
### 私有变量


```python
class Animal(object):
    def __init__(self,age,sex=1,weight=0.0):
        self.age=age
        self.sex=sex
        self.__weight=weight
    def eat(self):
        self.weight+=0.05
        print('eat')
    def run(self):
        self.weight-=0.01
        print('run')
        
a1=Animal(2,0,10.0)
print(a1.weight)
a1.eat()
a1.run()
```


    ---------------------------------------------------------------------------

    AttributeError                            Traceback (most recent call last)

    Input In [4], in <cell line: 14>()
         11         print('run')
         13 a1=Animal(2,0,10.0)
    ---> 14 print(a1.weight)
         15 a1.eat()
         16 a1.run()
    

    AttributeError: 'Animal' object has no attribute 'weight'


### 私有方法


```python
class Animal(object):
    def __init__(self,age,sex=1,weight=0.0):
        self.age=age
        self.sex=sex
        self.__weight=weight
    def eat(self):
        self.__weight+=0.05
        print('eat')
    def __run(self):
        self.__weight-=0.01
        print('run')
        
a1=Animal(2,0,10.0)
a1.eat()
a1.run()
```

    eat
    


    ---------------------------------------------------------------------------

    AttributeError                            Traceback (most recent call last)

    Input In [5], in <cell line: 15>()
         13 a1=Animal(2,0,10.0)
         14 a1.eat()
    ---> 15 a1.run()
    

    AttributeError: 'Animal' object has no attribute 'run'


### 定义属性


```python
class Animal(object):
    def __init__(self,age,sex=1,weight=0.0):
        self.age=age
        self.sex=sex
        self.__weight=weight
        
    def set_weight(self,weight):
        self.__weight=weight
    def get_weight(self):
        return self.__weight
    
a1=Animal(2,0,10.0)
print(a1.get_weight)
a1.set_weight(123.45)
print(a1.get_weight)
```

    <bound method Animal.get_weight of <__main__.Animal object at 0x000002310CC31CA0>>
    <bound method Animal.get_weight of <__main__.Animal object at 0x000002310CC31CA0>>
    


```python
class Animal(object):
    def __init__(self,age,sex=1,weight=0.0):
        self.age=age
        self.sex=sex
        self.__weight=weight
        
    @property
    def weight(self):
        return self.__weight
    
    @weight.setter
    def weight(self,weight):
        self.__weight=weight
        
a1=Animal(2,0,10.0)
print(a1.weight)
a1.weight=123.45
print(a1.weight)
```

    10.0
    123.45
    

## 继承性
### 继承概念


```python
class Person:
    def __init__(self,name,age):
        self.name=name
        self.age=age
        
    def info(self):
        template='Person[name={0},age={1}]'
        s=template.format(self.name,self.age)
        return s
    
```


```python
class Student(Person):
    def __init__(self,name,age,school):
        super().__init__(name,age)
        self.school=school
```

### 重写方法


```python
class Animal(object):
    def __init__(self,age,sex=1,weight=0.0):
        self.age=age
        self.sex=sex
        self.weight=weight
        
    def eat(self):
        self.weight+=0.05
        print('eat')
        
class Dog(Animal):
    def eat(self):
        self.weight+=0.1
        print('gougouchi...')
        
a1=Dog(2,0,10.0)
a1.eat()
```

    gougouchi...
    

### 多继承


```python
class ParentClass1:
    def run(self):
        print('ParentClass1 run...')
        
class ParentClass2:
    def run(self):
        print('ParentClass2 run...')
        
class SubClass1(ParentClass1,ParentClass2):
    pass

class SubClass2(ParentClass2,ParentClass1):
    pass

class SubClass3(ParentClass1,ParentClass2):
    def run(self):
        print('SubClass3 run...')
        
sub1=SubClass1()
sub1.run()

sub2=SubClass2()
sub2.run()

sub3=SubClass3()
sub3.run()
```

    ParentClass1 run...
    ParentClass2 run...
    SubClass3 run...
    

## 多态性
### 多态概念


```python
class Figure:
    def draw(self):
        print('draw figure...')
        
class Ellipse(Figure):
    def draw(self):
        print('draw Ellipse')
        
class Triangle(Figure):
    def draw(self):
        print('draw Triangle')
        
f1=Figure()
f1.draw()

f2=Ellipse()
f2.draw()

f3=Triangle()
f3.draw()
```

    draw figure...
    draw Ellipse
    draw Triangle
    

### 类型检查


```python
class Figure:
    def draw(self):
        print('draw figure...')
        
class Ellipse(Figure):
    def draw(self):
        print('draw Ellipse')
        
class Triangle(Figure):
    def draw(self):
        print('draw Triangle')
        
f1=Figure()
f1.draw()

f2=Ellipse()
f2.draw()

f3=Triangle()
f3.draw()


print(isinstance(f1,Triangle))
print(isinstance(f2,Triangle))
print(isinstance(f3,Triangle))
print(isinstance(f2,Figure))
```

    draw figure...
    draw Ellipse
    draw Triangle
    False
    False
    True
    True
    

### 鸭子类型


```python
class Animal(object):
    def run(self):
        print('animal run')
        
class Dog(Animal):
    def run(self):
        print('dog run')
        
class Car(object):
    def run(self):
        print('car run')
        
def go(animal):
    animal.run()
    
go(Animal())
go(Dog())
go(Car())
```

    animal run
    dog run
    car run
    

## Python根类——object
两个重要方法
* __str__()
* __eq__(other)

### __str__()方法


```python
class Person:
    def __init__(self,name,age):
        self.name=name
        self.age=age
        
    def __str__(self):
        template='Person [name={0},age={1}]'
        s=template.format(self.name,self.age)
        return s

person=Person('Tony',18)
print(person)
```

    Person [name=Tony,age=18]
    

### 对象比较方法


```python
class Person:
    def __init__(self,name,age):
        self.name=name
        self.age=age
        
    def __str__(self):
        template='Person [name={0},age={1}]'
        s=template.format(self.name,self.age)
        return s
    
    def __eq__(self,other):
        if self.name==other.name and self.age==other.age:
            return True
        else:
            return False
        
p1=Person('Tony',18)
p2=Person('Tony',18)

print(p1==p2)
```

    True
    

## 枚举类
### 定义枚举类


```python
import enum

class WeekDays(enum.Enum):
    MONDAY=1
    TUESDAY=2
    WEDNESDAY=3
    THURSDAY=4
    FRIDAY=5
    
day=WeekDays.FRIDAY

print(day)
print(day.value)
print(day.name)
```

    WeekDays.FRIDAY
    5
    FRIDAY
    

### 限制枚举类


```python
import enum

@enum.unique

class WeekDays(enum.IntEnum):
    MONDAY=1
    TUESDAY=2
    WEDNESDAY=3
    THURSDAY=4
    FRIDAY=5
    
day=WeekDays.FRIDAY

print(day)
print(day.value)
print(day.name)
```

    WeekDays.FRIDAY
    5
    FRIDAY
    

### 使用枚举类


```python
import enum

@enum.unique

class WeekDays(enum.IntEnum):
    MONDAY=1
    TUESDAY=2
    WEDNESDAY=3
    THURSDAY=4
    FRIDAY=5
    
day=WeekDays.FRIDAY

if day==WeekDays.MONDAY:
    print('work')
elif day==WeekDays.FRIDAY:
    print('study')
```

    study
    


```python

```
